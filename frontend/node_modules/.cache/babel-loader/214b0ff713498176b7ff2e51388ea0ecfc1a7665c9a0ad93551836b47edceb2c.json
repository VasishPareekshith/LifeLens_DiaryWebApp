{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import axios from'axios';// import Diary from 'https://lifelens-images.s3.ap-southeast-2.amazonaws.com/Diary1.png';\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function SignIn(){const[email,setEmail]=useState('');const[password,setPassword]=useState('');const navigate=useNavigate();const handleSubmit=async event=>{event.preventDefault();try{const response=await axios.post('http://localhost:5000/api/auth/sign-in',{email,password});const token=response.data.token;console.log('Sign-in success, token:',token);localStorage.setItem('email',email);localStorage.setItem('token',token);// Store token in localStorage\nwindow.alert('Sign-in successful!');// Success alert\nnavigate('/diary');// Redirect to the diary page\n}catch(error){var _error$response,_error$response$data,_error$response2,_error$response2$data;console.error('Error during sign-in:',((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||error.message);const errorMessage=(_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error;// Specific error handling\nif(errorMessage==='Invalid email'){window.alert('Error: The email you entered is not registered.');}else if(errorMessage==='Incorrect password'){window.alert('Error: The password you entered is incorrect.');}else{window.alert(\"Incorrect Email Or Password\");// Generic error alert\n}}};return/*#__PURE__*/_jsx(\"div\",{style:{padding:'20px',marginTop:'10vh',color:'white'},children:/*#__PURE__*/_jsxs(\"div\",{style:{width:'462px',height:'600px',margin:'auto',padding:'20px',backgroundImage:\"url(https://lifelens-images.s3.ap-southeast-2.amazonaws.com/assets/Diary1.png)\",backgroundPosition:'center',backgroundSize:'cover'},children:[/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'2rem',textAlign:'center',marginTop:'40px'},children:\"Sign in\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,noValidate:true,style:{display:'flex',flexDirection:'column',gap:'16px',marginLeft:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",required:true,placeholder:\"  your@email.com\",value:email,onChange:e=>setEmail(e.target.value),style:{height:'40px',borderRadius:'10px'}})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",required:true,placeholder:\"  \\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",value:password,onChange:e=>setPassword(e.target.value),style:{height:'40px',borderRadius:'10px'}})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{padding:'10px',backgroundColor:'#644dff',color:'black',border:'none',cursor:'pointer'},children:\"Sign in\"}),/*#__PURE__*/_jsxs(\"p\",{style:{textAlign:'center'},children:[\"Don't have an account? \",/*#__PURE__*/_jsx(\"a\",{href:\"/sign-up\",style:{color:'#644dff'},children:\"Sign up\"})]})]})]})});}","map":{"version":3,"names":["React","useState","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","SignIn","email","setEmail","password","setPassword","navigate","handleSubmit","event","preventDefault","response","post","token","data","console","log","localStorage","setItem","window","alert","error","_error$response","_error$response$data","_error$response2","_error$response2$data","message","errorMessage","style","padding","marginTop","color","children","width","height","margin","backgroundImage","backgroundPosition","backgroundSize","fontSize","textAlign","onSubmit","noValidate","display","flexDirection","gap","marginLeft","htmlFor","type","id","name","required","placeholder","value","onChange","e","target","borderRadius","backgroundColor","border","cursor","href"],"sources":["C:/Users/VASISH1211/Desktop/PROJ/LifeLens/frontend/src/components/SignIn/SignIn.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\n// import Diary from 'https://lifelens-images.s3.ap-southeast-2.amazonaws.com/Diary1.png';\n\nexport default function SignIn() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const navigate = useNavigate();\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      const response = await axios.post('http://localhost:5000/api/auth/sign-in', { email, password });\n      const token = response.data.token;\n      console.log('Sign-in success, token:', token);\n      localStorage.setItem('email', email);\n      localStorage.setItem('token', token); // Store token in localStorage\n      window.alert('Sign-in successful!'); // Success alert\n      navigate('/diary'); // Redirect to the diary page\n    } catch (error) {\n      console.error('Error during sign-in:', error.response?.data?.error || error.message);\n      const errorMessage = error.response?.data?.error;\n\n      // Specific error handling\n      if (errorMessage === 'Invalid email') {\n        window.alert('Error: The email you entered is not registered.');\n      } else if (errorMessage === 'Incorrect password') {\n        window.alert('Error: The password you entered is incorrect.');\n      } else {\n        window.alert(`Incorrect Email Or Password`); // Generic error alert\n      }\n    }\n  };\n\n  return (\n    <div style={{ padding: '20px', marginTop: '10vh', color: 'white' }}>\n      <div style={{ width: '462px', height: '600px', margin: 'auto', padding: '20px', backgroundImage: `url(https://lifelens-images.s3.ap-southeast-2.amazonaws.com/assets/Diary1.png)`, backgroundPosition: 'center', backgroundSize: 'cover' }}>\n        <h1 style={{ fontSize: '2rem', textAlign: 'center', marginTop: '40px' }}>Sign in</h1>\n        <form onSubmit={handleSubmit} noValidate style={{ display: 'flex', flexDirection: 'column', gap: '16px', marginLeft: '20px' }}>\n          <div style={{ display: 'flex', flexDirection: 'column' }}>\n            <label htmlFor=\"email\">Email</label>\n            <input\n              type=\"email\"\n              id=\"email\"\n              name=\"email\"\n              required\n              placeholder=\"  your@email.com\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              style={{ height: '40px', borderRadius: '10px' }}\n            />\n          </div>\n          <div style={{ display: 'flex', flexDirection: 'column' }}>\n            <label htmlFor=\"password\">Password</label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              name=\"password\"\n              required\n              placeholder=\"  ••••••\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              style={{ height: '40px', borderRadius: '10px' }}\n            />\n          </div>\n          <button\n            type=\"submit\"\n            style={{ padding: '10px', backgroundColor: '#644dff', color: 'black', border: 'none', cursor: 'pointer' }}\n          >\n            Sign in\n          </button>\n          <p style={{ textAlign: 'center' }}>\n            Don&apos;t have an account? <a href=\"/sign-up\" style={{ color: '#644dff' }}>Sign up</a>\n          </p>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEA,cAAe,SAAS,CAAAC,MAAMA,CAAA,CAAG,CAC/B,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACU,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAAY,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAY,YAAY,CAAG,KAAO,CAAAC,KAAK,EAAK,CACpCA,KAAK,CAACC,cAAc,CAAC,CAAC,CACtB,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAd,KAAK,CAACe,IAAI,CAAC,wCAAwC,CAAE,CAAET,KAAK,CAAEE,QAAS,CAAC,CAAC,CAChG,KAAM,CAAAQ,KAAK,CAAGF,QAAQ,CAACG,IAAI,CAACD,KAAK,CACjCE,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAEH,KAAK,CAAC,CAC7CI,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEf,KAAK,CAAC,CACpCc,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEL,KAAK,CAAC,CAAE;AACtCM,MAAM,CAACC,KAAK,CAAC,qBAAqB,CAAC,CAAE;AACrCb,QAAQ,CAAC,QAAQ,CAAC,CAAE;AACtB,CAAE,MAAOc,KAAK,CAAE,KAAAC,eAAA,CAAAC,oBAAA,CAAAC,gBAAA,CAAAC,qBAAA,CACdV,OAAO,CAACM,KAAK,CAAC,uBAAuB,CAAE,EAAAC,eAAA,CAAAD,KAAK,CAACV,QAAQ,UAAAW,eAAA,kBAAAC,oBAAA,CAAdD,eAAA,CAAgBR,IAAI,UAAAS,oBAAA,iBAApBA,oBAAA,CAAsBF,KAAK,GAAIA,KAAK,CAACK,OAAO,CAAC,CACpF,KAAM,CAAAC,YAAY,EAAAH,gBAAA,CAAGH,KAAK,CAACV,QAAQ,UAAAa,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBV,IAAI,UAAAW,qBAAA,iBAApBA,qBAAA,CAAsBJ,KAAK,CAEhD;AACA,GAAIM,YAAY,GAAK,eAAe,CAAE,CACpCR,MAAM,CAACC,KAAK,CAAC,iDAAiD,CAAC,CACjE,CAAC,IAAM,IAAIO,YAAY,GAAK,oBAAoB,CAAE,CAChDR,MAAM,CAACC,KAAK,CAAC,+CAA+C,CAAC,CAC/D,CAAC,IAAM,CACLD,MAAM,CAACC,KAAK,8BAA8B,CAAC,CAAE;AAC/C,CACF,CACF,CAAC,CAED,mBACErB,IAAA,QAAK6B,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,SAAS,CAAE,MAAM,CAAEC,KAAK,CAAE,OAAQ,CAAE,CAAAC,QAAA,cACjE/B,KAAA,QAAK2B,KAAK,CAAE,CAAEK,KAAK,CAAE,OAAO,CAAEC,MAAM,CAAE,OAAO,CAAEC,MAAM,CAAE,MAAM,CAAEN,OAAO,CAAE,MAAM,CAAEO,eAAe,iFAAkF,CAAEC,kBAAkB,CAAE,QAAQ,CAAEC,cAAc,CAAE,OAAQ,CAAE,CAAAN,QAAA,eACzOjC,IAAA,OAAI6B,KAAK,CAAE,CAAEW,QAAQ,CAAE,MAAM,CAAEC,SAAS,CAAE,QAAQ,CAAEV,SAAS,CAAE,MAAO,CAAE,CAAAE,QAAA,CAAC,SAAO,CAAI,CAAC,cACrF/B,KAAA,SAAMwC,QAAQ,CAAEjC,YAAa,CAACkC,UAAU,MAACd,KAAK,CAAE,CAAEe,OAAO,CAAE,MAAM,CAAEC,aAAa,CAAE,QAAQ,CAAEC,GAAG,CAAE,MAAM,CAAEC,UAAU,CAAE,MAAO,CAAE,CAAAd,QAAA,eAC5H/B,KAAA,QAAK2B,KAAK,CAAE,CAAEe,OAAO,CAAE,MAAM,CAAEC,aAAa,CAAE,QAAS,CAAE,CAAAZ,QAAA,eACvDjC,IAAA,UAAOgD,OAAO,CAAC,OAAO,CAAAf,QAAA,CAAC,OAAK,CAAO,CAAC,cACpCjC,IAAA,UACEiD,IAAI,CAAC,OAAO,CACZC,EAAE,CAAC,OAAO,CACVC,IAAI,CAAC,OAAO,CACZC,QAAQ,MACRC,WAAW,CAAC,kBAAkB,CAC9BC,KAAK,CAAElD,KAAM,CACbmD,QAAQ,CAAGC,CAAC,EAAKnD,QAAQ,CAACmD,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC1CzB,KAAK,CAAE,CAAEM,MAAM,CAAE,MAAM,CAAEuB,YAAY,CAAE,MAAO,CAAE,CACjD,CAAC,EACC,CAAC,cACNxD,KAAA,QAAK2B,KAAK,CAAE,CAAEe,OAAO,CAAE,MAAM,CAAEC,aAAa,CAAE,QAAS,CAAE,CAAAZ,QAAA,eACvDjC,IAAA,UAAOgD,OAAO,CAAC,UAAU,CAAAf,QAAA,CAAC,UAAQ,CAAO,CAAC,cAC1CjC,IAAA,UACEiD,IAAI,CAAC,UAAU,CACfC,EAAE,CAAC,UAAU,CACbC,IAAI,CAAC,UAAU,CACfC,QAAQ,MACRC,WAAW,CAAC,wCAAU,CACtBC,KAAK,CAAEhD,QAAS,CAChBiD,QAAQ,CAAGC,CAAC,EAAKjD,WAAW,CAACiD,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC7CzB,KAAK,CAAE,CAAEM,MAAM,CAAE,MAAM,CAAEuB,YAAY,CAAE,MAAO,CAAE,CACjD,CAAC,EACC,CAAC,cACN1D,IAAA,WACEiD,IAAI,CAAC,QAAQ,CACbpB,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAE6B,eAAe,CAAE,SAAS,CAAE3B,KAAK,CAAE,OAAO,CAAE4B,MAAM,CAAE,MAAM,CAAEC,MAAM,CAAE,SAAU,CAAE,CAAA5B,QAAA,CAC3G,SAED,CAAQ,CAAC,cACT/B,KAAA,MAAG2B,KAAK,CAAE,CAAEY,SAAS,CAAE,QAAS,CAAE,CAAAR,QAAA,EAAC,yBACL,cAAAjC,IAAA,MAAG8D,IAAI,CAAC,UAAU,CAACjC,KAAK,CAAE,CAAEG,KAAK,CAAE,SAAU,CAAE,CAAAC,QAAA,CAAC,SAAO,CAAG,CAAC,EACtF,CAAC,EACA,CAAC,EACJ,CAAC,CACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}